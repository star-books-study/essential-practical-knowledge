# 부록 A. 처음 해보는 성능 테스트를 위한 기본 정리
## 성능 테스트 종류
- 부하 테스트
  - 특정한 예상 부하에서 시스템이 어떻게 동작하는지 확인
  - 주요 기능의 응답 시간과 처리량 등 성능 지표 확인 및 병목 파악 가능
- 스트레스 테스트
  - 시스템의 최대 성능 확인하기 위한 테스트
- 지속 부하 테스트
  - 시스템이 지속적인 부하를 견딜 수 있는지 검증
  - 성능 저하가 발생하는지 확인해서 메모리 누수 탐지 가능 
- 스파이크 테스트
  - 급격히 트래픽이 변화할 때 시스템 반응성, 안정성을 검증하는 테스트
  - 성능 저하나 실패 발생하는지 확인

## 포화점과 버클존
- 포화점
  - 성능이 저하되기 전의 최대 처리량 (즉, 시스템이 감당 가능한 성능 한계 지점)
- 버클존
  - 포화점을 지나 성능이 꺾이기 시작하는 구간

## 주요 측정 지표
### 응답시간
- 평균 / 최대 / 최소 / 중앙 / P99, P95
- 응답시간이 중앙값보다 평균값이 더 큰 분포를 보인다면, 응답시간이 전반적으로 평균보다 느리다는 것을 의미함

### 처리량
- 초 단위로 얼마나 많은 요청을 처리했는지

### 에러율
- 전체 요청 중 에러 발생 비율

### CPU 사용률

## 성능 테스트 도구
- nGrinder
  - 1개의 컨트롤러와 다수의 에이전트로 구성됨
  - 에이전트가 실제로 부하를 발생시키고, 테스트 대상 서버의 시스템 지표를 모니터링함
  - Groovy, Jython 을 이용한 테스트 스크립트 작성
- k6
  - 자바스크립트를 이용해 테스트 작성
  - 고루틴을 사용해서 부하 발생 -> 스레드 사용하는 도구 대비 더 적은 자원으로 더 많은 부하 발생 가능
  - CLI 로 실행하므로 CI/CD 환경에 통합이 용이함
- Locust, Gatling, JMeter

## 성능 테스트 실행 시 주의 사항
- 반드시 부하 발생기와 테스트 대상 시스템을 분리해야 한다
- 서버 설정 제한 (ex. 서버 스레드 풀 개수, DB 커넥션 풀 크기) 을 풀고 실행해야 한다
- 최대한 운영 환경과 동일하게 구성해야 한다